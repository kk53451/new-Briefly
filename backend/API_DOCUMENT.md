#  Briefly ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

##  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**Briefly**ã¯ã€AIåŸºç›¤ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã§ã€æ¯æ—¥ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’åé›†ã—ã¦GPT-4o-miniã§è¦ç´„ã—ã€ElevenLabs TTSã§éŸ³å£°ã‚’ç”Ÿæˆã™ã‚‹è‡ªå‹•åŒ–ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚

###  ä¸»è¦æ©Ÿèƒ½
-  **AIãƒ‹ãƒ¥ãƒ¼ã‚¹è¦ç´„**: GPT-4o-mini + äºŒé‡ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã§é‡è¤‡é™¤å»
-  **TTSå¤‰æ›**: ElevenLabs é«˜å“è³ªéŸ³å£°ç”Ÿæˆ
-  **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°**: æ¯æ—¥åˆå‰6æ™‚(KST) è‡ªå‹•å®Ÿè¡Œ
-  **èªè¨¼**: ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³ + JWTãƒˆãƒ¼ã‚¯ãƒ³
-  **ãƒ‡ãƒ¼ã‚¿**: AWS DynamoDB + S3ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

###  **å®Ÿè£…æ¸ˆã¿ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**
- **åˆè¨ˆ13å€‹ã®ä¸»è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹** å®Ÿè£…å®Œäº†
- **UC-001~003**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã¨ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚° (3å€‹)
- **UC-004~006**: ãƒ‹ãƒ¥ãƒ¼ã‚¹é–²è¦§ã¨æ¢ç´¢ (3å€‹)
- **UC-007~008**: ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã¨éŸ³å£°ã‚µãƒ¼ãƒ“ã‚¹ (2å€‹)
- **UC-009~011**: ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã¨è¨­å®š (3å€‹)
- **UC-012~013**: è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ  (2å€‹)

###  ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
 External APIs           Backend Services          Data Storage
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ OpenAI GPT    â”‚â”€â”€â”€â”€â–¶â”‚   FastAPI Lambda    â”‚â”€â”€â”€â”€â–¶â”‚   DynamoDB      â”‚
â”‚ â€¢ ElevenLabs    â”‚     â”‚                     â”‚     â”‚   - NewsCards   â”‚
â”‚ â€¢ DeepSearch    â”‚     â”‚ â€¢ API Routes        â”‚     â”‚   - Frequencies â”‚
â”‚ â€¢ ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³  â”‚     â”‚ â€¢ Services          â”‚     â”‚   - Users       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â€¢ Tasks             â”‚     â”‚   - Bookmarks   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚                          â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Scheduler Lambda    â”‚     â”‚   S3 Storage    â”‚
                        â”‚ (Daily 6AM KST)     â”‚     â”‚   - Audio Files â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

###  ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±

- **Base URL**: `https://your-api-gateway-url/`
- **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ«**: AWS SAM
- **å®Ÿè¡Œç’°å¢ƒ**: AWS Lambda (Python 3.12)
- **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼**: EventBridge (æ¯æ—¥åˆå‰6æ™‚ KST)

---

##  èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 

### JWTãƒˆãƒ¼ã‚¯ãƒ³ã®ä½¿ç”¨æ–¹æ³•

ã™ã¹ã¦ã®ä¿è­·ã•ã‚ŒãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ˜ãƒƒãƒ€ãƒ¼ãŒå¿…è¦ã§ã™ï¼š

```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### èªè¨¼ãƒ•ãƒ­ãƒ¼

1. **ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³é–‹å§‹** â†’ `/api/auth/kakao/login`
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ã‚«ã‚ªèªè¨¼** â†’ ã‚«ã‚«ã‚ªã‚µãƒ¼ãƒãƒ¼
3. **ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†** â†’ `/api/auth/kakao/callback`
4. **JWTãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ** â†’ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é…ä¿¡
5. **APIå‘¼ã³å‡ºã—æ™‚ã®ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨** â†’ `Authorization` ãƒ˜ãƒƒãƒ€ãƒ¼

---

## ğŸ“š APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ğŸ”‘ 1. èªè¨¼API (`/api/auth`)

#### 1-1. ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³é–‹å§‹

```http
GET /api/auth/kakao/login
```

**èª¬æ˜**: ã‚«ã‚«ã‚ª OAuth ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: ã‚«ã‚«ã‚ªèªè¨¼ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

**ä½¿ç”¨ä¾‹**:
```javascript
// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®ä½¿ç”¨
window.location.href = 'https://api.briefly.com/api/auth/kakao/login';
```

---

#### 1-2. ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯

```http
GET /api/auth/kakao/callback?code={authorization_code}
```

**èª¬æ˜**: ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³å®Œäº†å¾Œã®JWTãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `code` (query, required): ã‚«ã‚«ã‚ªã‹ã‚‰æ¸¡ã•ã‚Œã‚‹èªè¨¼ã‚³ãƒ¼ãƒ‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user_id": "kakao_123456789",
  "nickname": "í™ê¸¸ë™"
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
- `400`: èªè¨¼ã‚³ãƒ¼ãƒ‰æœŸé™åˆ‡ã‚Œ/å†ä½¿ç”¨
  ```json
  {
    "detail": "ì´ ì¸ì¦ ì½”ë“œëŠ” ì´ë¯¸ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."
  }
  ```
- `500`: ã‚«ã‚«ã‚ªã‚µãƒ¼ãƒãƒ¼æ¥ç¶šå¤±æ•—
  ```json
  {
    "detail": "ì¹´ì¹´ì˜¤ ì„œë²„ ì—°ê²° ì‹¤íŒ¨"
  }
  ```

---

#### 1-3. ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

```http
GET /api/auth/me
Authorization: Bearer {token}
```

**èª¬æ˜**: ç¾åœ¨ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "user_id": "kakao_123456789",
  "nickname": "í™ê¸¸ë™",
  "profile_image": "https://k.kakaocdn.net/dn/profile.jpg",
  "interests": ["ì •ì¹˜", "ê²½ì œ"],
  "onboarding_completed": true,
  "created_at": "2025-01-01T00:00:00",
  "default_length": 3
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
- `401`: ãƒˆãƒ¼ã‚¯ãƒ³ãªã—/æœŸé™åˆ‡ã‚Œ
  ```json
  {
    "detail": "í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤"
  }
  ```

---

#### 1-4. ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

```http
POST /api/auth/logout
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç† (ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³å‰Šé™¤ã‚’æ¨å¥¨)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ (í´ë¼ì´ì–¸íŠ¸ í† í° ì‚­ì œ ê¶Œì¥)"
}
```

---

### ğŸ‘¤ 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼API (`/api/user`)

#### 2-1. ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å–å¾—

```http
GET /api/user/profile
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "user_id": "kakao_123456789",
  "nickname": "í™ê¸¸ë™",
  "profile_image": "https://k.kakaocdn.net/dn/profile.jpg",
  "interests": ["ì •ì¹˜", "ê²½ì œ"],
  "onboarding_completed": true,
  "default_length": 3,
  "created_at": "2025-01-01T00:00:00"
}
```

---

#### 2-2. ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒªã‚¹ãƒˆå–å¾—

```http
GET /api/user/bookmarks
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã—ãŸãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒªã‚¹ãƒˆå–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
[
  {
    "news_id": "news_123",
    "title": "ë‰´ìŠ¤ ì œëª©",
    "summary": "ë‰´ìŠ¤ ìš”ì•½",
    "bookmark_date": "2025-01-27T10:00:00"
  }
]
```

---

#### 2-3. ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘¨æ³¢æ•°å–å¾—

```http
GET /api/user/frequencies
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªåˆ¥å…±æœ‰å‘¨æ³¢æ•°è¦ç´„å–å¾— (ä»Šæ—¥æ—¥ä»˜ãƒ™ãƒ¼ã‚¹)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
[
  {
    "frequency_id": "politics#2025-01-27",
    "category": "politics",
    "script": "ì˜¤ëŠ˜ì˜ ì •ì¹˜ ë‰´ìŠ¤ ìš”ì•½...",
    "audio_url": "https://s3.amazonaws.com/briefly-news-audio/politics-2025-01-27.mp3",
    "date": "2025-01-27"
  }
]
```

---

#### 2-4. é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªå–å¾—

```http
GET /api/user/categories
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆå–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "interests": ["ì •ì¹˜", "ê²½ì œ"]
}
```

---

#### 2-5. é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªä¿®æ­£

```http
PUT /api/user/categories
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆä¿®æ­£

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ Body**:
```json
{
  "interests": ["ì •ì¹˜", "ê²½ì œ", "IT/ê³¼í•™"]
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

---

#### 2-6. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†

```http
POST /api/user/onboarding
Authorization: Bearer {token}
```

**èª¬æ˜**: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†å‡¦ç†

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ì˜¨ë³´ë”© ì™„ë£Œ"
}
```

---

#### 2-7. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª

```http
GET /api/user/onboarding/status
Authorization: Bearer {token}
```

**èª¬æ˜**: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†ç¢ºèª

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "onboarded": true
}
```

---

#### 2-8. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸æƒ…å ±

```http
GET /api/user/onboarding
Authorization: Bearer {token}
```

**èª¬æ˜**: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸æƒ…å ±æä¾›

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "user_id": "kakao_123456789",
  "nickname": "í™ê¸¸ë™",
  "onboarding_completed": false,
  "interests": []
}
```

---

### ğŸ“° 3. ãƒ‹ãƒ¥ãƒ¼ã‚¹API (`/api/news`)

#### 3-1. ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—

```http
GET /api/news?category={category}
```

**èª¬æ˜**: ç‰¹å®šã‚«ãƒ†ã‚´ãƒªã®ä»Šæ—¥ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒªã‚¹ãƒˆå–å¾—

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `category` (query, required): ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚«ãƒ†ã‚´ãƒª
  - ã‚µãƒãƒ¼ãƒˆã‚«ãƒ†ã‚´ãƒª: `ì •ì¹˜`, `ê²½ì œ`, `ì‚¬íšŒ`, `ìƒí™œ/ë¬¸í™”`, `IT/ê³¼í•™`, `ì—°ì˜ˆ`, `ì „ì²´`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
[
  {
    "news_id": "news_123",
    "title": "ë‰´ìŠ¤ ì œëª©",
    "summary": "ë‰´ìŠ¤ ìš”ì•½",
    "image_url": "https://example.com/image.jpg",
    "content_url": "https://example.com/news",
    "publisher": "ì–¸ë¡ ì‚¬",
    "published_at": "2025-01-27T09:00:00",
    "sections": ["politics"],
    "rank": 1
  }
]
```

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
- `400`: ã‚µãƒãƒ¼ãƒˆã—ãªã„ã‚«ãƒ†ã‚´ãƒª
  ```json
  {
    "detail": "ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¹´í…Œê³ ë¦¬ì…ë‹ˆë‹¤: ìŠ¤í¬ì¸ "
  }
  ```

---

#### 3-2. ä»Šæ—¥ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—åŒ–

```http
GET /api/news/today
```

**èª¬æ˜**: ä»Šæ—¥ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’ã‚«ãƒ†ã‚´ãƒªåˆ¥ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦è¿”ã™

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "ì •ì¹˜": [
    {
      "news_id": "news_123",
      "title": "ì •ì¹˜ ë‰´ìŠ¤ ì œëª©",
      "summary": "ì •ì¹˜ ë‰´ìŠ¤ ìš”ì•½"
    }
  ],
  "ê²½ì œ": [
    {
      "news_id": "news_456",
      "title": "ê²½ì œ ë‰´ìŠ¤ ì œëª©",
      "summary": "ê²½ì œ ë‰´ìŠ¤ ìš”ì•½"
    }
  ]
}
```

---

#### 3-3. ãƒ‹ãƒ¥ãƒ¼ã‚¹è©³ç´°å–å¾—

```http
GET /api/news/{news_id}
```

**èª¬æ˜**: å€‹åˆ¥ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚«ãƒ¼ãƒ‰è©³ç´°å†…å®¹å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "news_id": "news_123",
  "title": "ë‰´ìŠ¤ ì œëª©",
  "summary": "ë‰´ìŠ¤ ìš”ì•½",
  "content": "ë‰´ìŠ¤ ë³¸ë¬¸ ì „ì²´...",
  "image_url": "https://example.com/image.jpg",
  "content_url": "https://example.com/news",
  "publisher": "ì–¸ë¡ ì‚¬",
  "author": "ê¸°ìëª…",
  "published_at": "2025-01-27T09:00:00",
  "companies": ["ì‚¼ì„±", "LG"],
  "esg": []
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
- `404`: ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“
  ```json
  {
    "detail": "ë‰´ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
  }
  ```

---

#### 3-4. ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯è¿½åŠ 

```http
POST /api/news/bookmark
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯è¿½åŠ 

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ Body**:
```json
{
  "news_id": "news_123"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ë¶ë§ˆí¬ ì™„ë£Œ"
}
```

---

#### 3-5. ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å‰Šé™¤

```http
DELETE /api/news/bookmark/{news_id}
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å‰Šé™¤

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ë¶ë§ˆí¬ ì‚­ì œë¨"
}
```

---

###  4. å‘¨æ³¢æ•°API (`/api/frequencies`)

#### 4-1. ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘¨æ³¢æ•°ãƒªã‚¹ãƒˆ

```http
GET /api/frequencies
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªåˆ¥å…±æœ‰å‘¨æ³¢æ•°ãƒªã‚¹ãƒˆ (ä»Šæ—¥æ—¥ä»˜ãƒ™ãƒ¼ã‚¹)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
[
  {
    "frequency_id": "politics#2025-01-27",
    "category": "politics",
    "script": "ì˜¤ëŠ˜ì˜ ì •ì¹˜ ë‰´ìŠ¤ ìš”ì•½...",
    "audio_url": "https://s3.amazonaws.com/briefly-news-audio/politics-2025-01-27.mp3",
    "date": "2025-01-27",
    "created_at": "2025-01-27T06:30:00"
  }
]
```

---

#### 4-2. å‘¨æ³¢æ•°ãƒ’ã‚¹ãƒˆãƒªãƒ¼

```http
GET /api/frequencies/history?limit={limit}
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªåˆ¥å‘¨æ³¢æ•°ãƒ’ã‚¹ãƒˆãƒªãƒ¼ (éå»ãƒ‡ãƒ¼ã‚¿)

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `limit` (query, optional): å–å¾—æ•° (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 30, æœ€å¤§: 100)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
[
  {
    "frequency_id": "politics#2025-01-26",
    "category": "politics",
    "script": "ì–´ì œì˜ ì •ì¹˜ ë‰´ìŠ¤ ìš”ì•½...",
    "audio_url": "https://s3.amazonaws.com/briefly-news-audio/politics-2025-01-26.mp3",
    "date": "2025-01-26",
    "created_at": "2025-01-26T06:30:00"
  }
]
```

---

#### 4-3. ã‚«ãƒ†ã‚´ãƒªåˆ¥å‘¨æ³¢æ•°è©³ç´°

```http
GET /api/frequencies/{category}
Authorization: Bearer {token}
```

**èª¬æ˜**: ç‰¹å®šã‚«ãƒ†ã‚´ãƒªã®å‘¨æ³¢æ•°è©³ç´°æƒ…å ±å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "frequency_id": "politics#2025-01-27",
  "category": "politics",
  "script": "ì˜¤ëŠ˜ì˜ ì •ì¹˜ ë‰´ìŠ¤ ìš”ì•½...",
  "audio_url": "https://s3.amazonaws.com/briefly-news-audio/politics-2025-01-27.mp3",
  "date": "2025-01-27",
  "created_at": "2025-01-27T06:30:00"
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
- `404`: è©²å½“å‘¨æ³¢æ•°ãŒã‚ã‚Šã¾ã›ã‚“
  ```json
  {
    "detail": "í•´ë‹¹ ì£¼íŒŒìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤."
  }
  ```

---

### ğŸ“‚ 5. ã‚«ãƒ†ã‚´ãƒªAPI (`/api`)

#### 5-1. å…¨ã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆå–å¾—

```http
GET /api/categories
```

**èª¬æ˜**: å…¨ã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆè¿”å´ (èªè¨¼ä¸è¦)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "categories": ["ì •ì¹˜", "ê²½ì œ", "ì‚¬íšŒ", "ìƒí™œ/ë¬¸í™”", "IT/ê³¼í•™", "ì—°ì˜ˆ"]
}
```

---

#### 5-2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ†ã‚´ãƒªå–å¾—

```http
GET /api/user/categories
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªå–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "user_id": "kakao_123456789",
  "interests": ["ì •ì¹˜", "ê²½ì œ"]
}
```

---

#### 5-3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ†ã‚´ãƒªä¿®æ­£

```http
PUT /api/user/categories
Authorization: Bearer {token}
```

**èª¬æ˜**: ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚«ãƒ†ã‚´ãƒªä¿®æ­£

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ Body**:
```json
{
  "interests": ["ì •ì¹˜", "ê²½ì œ", "IT/ê³¼í•™"]
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸ ì™„ë£Œ",
  "interests": ["ì •ì¹˜", "ê²½ì œ", "IT/ê³¼í•™"]
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
- `400`: ä¸æ­£ãªã‚«ãƒ†ã‚´ãƒª
  ```json
  {
    "detail": "ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¹´í…Œê³ ë¦¬ì…ë‹ˆë‹¤: ['ìŠ¤í¬ì¸ ']"
  }
  ```

---

###  6. ä»–ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### 6-1. ãƒ«ãƒ¼ãƒˆãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```http
GET /
```

**èª¬æ˜**: APIã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç¢ºèª

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "Welcome to Briefly API"
}
```

---

#### 6-2. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸æƒ…å ±

```http
GET /onboarding
```

**èª¬æ˜**: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸æƒ…å ±æä¾› (èªè¨¼ä¸è¦)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200):
```json
{
  "message": "ì˜¨ë³´ë”© í˜ì´ì§€ì…ë‹ˆë‹¤",
  "available_categories": ["ì •ì¹˜", "ê²½ì œ", "ì‚¬íšŒ", "ìƒí™œ/ë¬¸í™”", "IT/ê³¼í•™", "ì—°ì˜ˆ"]
}
```

---

##  å…±é€šã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹

### èªè¨¼ã‚¨ãƒ©ãƒ¼
- `401 Unauthorized`: JWTãƒˆãƒ¼ã‚¯ãƒ³ãªã—/æœŸé™åˆ‡ã‚Œ
- `403 Forbidden`: æ¨©é™ãªã—

### ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼
- `400 Bad Request`: ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `404 Not Found`: ãƒªã‚½ãƒ¼ã‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“
- `422 Validation Error`: ãƒªã‚¯ã‚¨ã‚¹ãƒˆå½¢å¼ã‚¨ãƒ©ãƒ¼

### ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼å†…éƒ¨ã‚¨ãƒ©ãƒ¼

---

##  APIä½¿ç”¨ä¾‹

### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ•ãƒ­ãƒ¼
```javascript
// 1. ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³
window.location.href = '/api/auth/kakao/login';

// 2. ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
const response = await fetch('/api/auth/kakao/callback?code=AUTH_CODE');
const { access_token } = await response.json();

// 3. ãƒˆãƒ¼ã‚¯ãƒ³ã§APIå‘¼ã³å‡ºã—
const userInfo = await fetch('/api/auth/me', {
  headers: { 'Authorization': `Bearer ${access_token}` }
});
```

### 2. ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—ãƒ•ãƒ­ãƒ¼
```javascript
// 1. å…¨ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—
const allNews = await fetch('/api/news?category=ì „ì²´');

// 2. ç‰¹å®šã‚«ãƒ†ã‚´ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¹
const politicsNews = await fetch('/api/news?category=ì •ì¹˜');

// 3. ãƒ‹ãƒ¥ãƒ¼ã‚¹è©³ç´°å–å¾—
const newsDetail = await fetch('/api/news/news_123');
```

### 3. å‘¨æ³¢æ•°å–å¾—ãƒ•ãƒ­ãƒ¼
```javascript
// 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢å¿ƒå‘¨æ³¢æ•°å–å¾—
const myFrequencies = await fetch('/api/frequencies', {
  headers: { 'Authorization': `Bearer ${token}` }
});

// 2. å‘¨æ³¢æ•°ãƒ’ã‚¹ãƒˆãƒªãƒ¼å–å¾—
const history = await fetch('/api/frequencies/history?limit=10', {
  headers: { 'Authorization': `Bearer ${token}` }
});
```

---

##  ç’°å¢ƒå¤‰æ•°

```bash
# ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_REDIRECT_URI=your_redirect_uri

# AIã‚µãƒ¼ãƒ“ã‚¹
OPENAI_API_KEY=your_openai_key
ELEVENLABS_API_KEY=your_elevenlabs_key
ELEVENLABS_VOICE_ID=your_voice_id

# ãƒ‹ãƒ¥ãƒ¼ã‚¹API
DEEPSEARCH_API_KEY=your_deepsearch_key

# AWSãƒªã‚½ãƒ¼ã‚¹
DDB_NEWS_TABLE=NewsCards
DDB_FREQ_TABLE=Frequencies
DDB_USERS_TABLE=Users
DDB_BOOKMARKS_TABLE=Bookmarks
S3_BUCKET=briefly-news-audio
```

---

##  é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

###  å®Œäº†ã—ãŸæ©Ÿèƒ½
- ã‚«ã‚«ã‚ªãƒ­ã‚°ã‚¤ãƒ³ã¨JWTèªè¨¼
- ãƒ‹ãƒ¥ãƒ¼ã‚¹åé›†ã¨è¦ç´„ã‚·ã‚¹ãƒ†ãƒ 
- TTSéŸ³å£°å¤‰æ›ã¨S3ä¿å­˜
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ«ã¨ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ç®¡ç†
- å‘¨æ³¢æ•°ç”Ÿæˆã¨å–å¾—

###  ä»Šå¾Œæ‹¡å¼µå¯èƒ½ãªæ©Ÿèƒ½
- ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œç´¢æ©Ÿèƒ½  
- éŸ³å£°å†ç”Ÿåˆ†æ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°

---